window.rp=new Reepay.ModalCheckout,jQuery(function(e){"use strict";if("undefined"==typeof wc_checkout_params)return!1;e(document).ajaxComplete(function(n,o,t){if(t.url===wc_checkout_params.checkout_url){const n=o.responseText;try{const o=e.parseJSON(n);if(!o.hasOwnProperty("is_reepay_checkout"))return!1;wc_reepay.buildModalCheckout(o.reepay.id,o.accept_url,o.cancel_url)}catch(e){return!1}}}),e(document).ready(function(){if(window.location.hash.indexOf("#!reepay-pay")>-1){const e=document.location.hash.replace("#!reepay-pay",""),n=new URLSearchParams(e);let o=n.get("rid"),t=n.get("accept_url"),a=n.get("cancel_url");window.setTimeout(function(){wc_reepay.buildModalCheckout(o,t,a),history.pushState("",document.title,window.location.pathname)},1e3)}})}),wc_reepay={buildModalCheckout:function(e,n,o){"OVERLAY"===WC_Gateway_Reepay_Checkout.payment_type?window.rp.show(e):window.rp=new Reepay.WindowCheckout(e),window.rp.addEventHandler(Reepay.Event.Accept,function(e){console.log("Accept",e);let o=n;for(let n in e)o=wc_reepay.setUrlParameter(o,n,e[n]);window.location.href=o}),window.rp.addEventHandler(Reepay.Event.Cancel,function(e){console.log("Cancel",e),window.location.href=o}),window.rp.addEventHandler(Reepay.Event.Close,function(e){console.log("Close",e)}),window.rp.addEventHandler(Reepay.Event.Error,function(e){console.log("Error",e),window.location.href=o})},setUrlParameter:function(e,n,o){var t=e.split("?")[0],a="?"+e.split("?")[1],c=n+"="+o,r="?"+c;if(a){var l=new RegExp("([?&])"+n+"[^&]*"),i=new RegExp("([?&])"+n+"=[^&;]+[&;]?");r=null==o||""===o?(r=a.replace(i,"$1")).replace(/[&;]$/,""):null!==a.match(l)?a.replace(l,"$1"+c):a+"&"+c}return t+(r="?"===r?"":r)}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrb3V0LmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsInJwIiwiUmVlcGF5IiwiTW9kYWxDaGVja291dCIsImpRdWVyeSIsIiQiLCJ3Y19jaGVja291dF9wYXJhbXMiLCJkb2N1bWVudCIsImFqYXhDb21wbGV0ZSIsImV2ZW50IiwieGhyIiwic2V0dGluZ3MiLCJ1cmwiLCJjaGVja291dF91cmwiLCJkYXRhIiwicmVzcG9uc2VUZXh0IiwicmVzdWx0IiwicGFyc2VKU09OIiwiaGFzT3duUHJvcGVydHkiLCJ3Y19yZWVwYXkiLCJidWlsZE1vZGFsQ2hlY2tvdXQiLCJyZWVwYXkiLCJpZCIsImFjY2VwdF91cmwiLCJjYW5jZWxfdXJsIiwiZSIsInJlYWR5IiwibG9jYXRpb24iLCJoYXNoIiwiaW5kZXhPZiIsInJlcGxhY2UiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJyaWQiLCJnZXQiLCJzZXRUaW1lb3V0IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInRpdGxlIiwicGF0aG5hbWUiLCJyZWVwYXlfaWQiLCJXQ19HYXRld2F5X1JlZXBheV9DaGVja291dCIsInBheW1lbnRfdHlwZSIsInNob3ciLCJXaW5kb3dDaGVja291dCIsImFkZEV2ZW50SGFuZGxlciIsIkV2ZW50IiwiQWNjZXB0IiwiY29uc29sZSIsImxvZyIsInJlZGlyZWN0X3VybCIsInByb3AiLCJzZXRVcmxQYXJhbWV0ZXIiLCJocmVmIiwiQ2FuY2VsIiwiQ2xvc2UiLCJFcnJvciIsImtleSIsInZhbHVlIiwiYmFzZVVybCIsInNwbGl0IiwidXJsUXVlcnlTdHJpbmciLCJuZXdQYXJhbSIsInVwZGF0ZVJlZ2V4IiwiUmVnRXhwIiwicmVtb3ZlUmVnZXgiLCJtYXRjaCJdLCJtYXBwaW5ncyI6IkFBR0FBLE9BQU9DLEdBQUssSUFBSUMsT0FBT0MsY0FFdkJDLE9BQVEsU0FBVUMsR0FDZCxhQUdBLEdBQW1DLG9CQUF2QkMsbUJBQ1IsT0FBTyxFQUdYRCxFQUFHRSxVQUFXQyxhQUFjLFNBQVdDLEVBQU9DLEVBQUtDLEdBQy9DLEdBQUtBLEVBQVNDLE1BQVFOLG1CQUFtQk8sYUFBZSxDQUNwRCxNQUFNQyxFQUFPSixFQUFJSyxhQUdqQixJQUNJLE1BQU1DLEVBQVNYLEVBQUVZLFVBQVdILEdBRzVCLElBQU9FLEVBQU9FLGVBQWdCLHNCQUMxQixPQUFPLEVBR1hDLFVBQVVDLG1CQUFvQkosRUFBT0ssT0FBT0MsR0FBSU4sRUFBT08sV0FBWVAsRUFBT1EsWUFDNUUsTUFBUUMsR0FDTixPQUFPLE1BS25CcEIsRUFBR0UsVUFBV21CLE1BQU0sV0FDaEIsR0FBSzFCLE9BQU8yQixTQUFTQyxLQUFLQyxRQUFTLGlCQUFvQixFQUFJLENBQ3ZELE1BQU1qQixFQUFNTCxTQUFTb0IsU0FBU0MsS0FBS0UsUUFBUyxlQUFlLElBQ3ZEQyxFQUFTLElBQUlDLGdCQUFpQnBCLEdBRWxDLElBQUlxQixFQUFNRixFQUFPRyxJQUFLLE9BQ2xCWCxFQUFhUSxFQUFPRyxJQUFLLGNBQ3pCVixFQUFhTyxFQUFPRyxJQUFLLGNBRTdCbEMsT0FBT21DLFdBQVksV0FDZmhCLFVBQVVDLG1CQUFvQmEsRUFBS1YsRUFBWUMsR0FDL0NZLFFBQVFDLFVBQVcsR0FBSTlCLFNBQVMrQixNQUFPdEMsT0FBTzJCLFNBQVNZLFdBQ3hELFVBS2ZwQixVQUFZLENBUVJDLG1CQUFvQixTQUFXb0IsRUFBV2pCLEVBQVlDLEdBQ0QsWUFBNUNpQiwyQkFBMkJDLGFBRTVCMUMsT0FBT0MsR0FBRzBDLEtBQU1ILEdBR2hCeEMsT0FBT0MsR0FBSyxJQUFJQyxPQUFPMEMsZUFBZ0JKLEdBRzNDeEMsT0FBT0MsR0FBRzRDLGdCQUFpQjNDLE9BQU80QyxNQUFNQyxPQUFRLFNBQVVqQyxHQUN0RGtDLFFBQVFDLElBQUssU0FBVW5DLEdBRXZCLElBQUlvQyxFQUFlM0IsRUFDbkIsSUFBTSxJQUFJNEIsS0FBUXJDLEVBQ2RvQyxFQUFlL0IsVUFBVWlDLGdCQUFpQkYsRUFBY0MsRUFBTXJDLEVBQUtxQyxJQUd2RW5ELE9BQU8yQixTQUFTMEIsS0FBT0gsSUFHM0JsRCxPQUFPQyxHQUFHNEMsZ0JBQWlCM0MsT0FBTzRDLE1BQU1RLE9BQVEsU0FBVXhDLEdBQ3REa0MsUUFBUUMsSUFBSyxTQUFVbkMsR0FDdkJkLE9BQU8yQixTQUFTMEIsS0FBTzdCLElBRzNCeEIsT0FBT0MsR0FBRzRDLGdCQUFpQjNDLE9BQU80QyxNQUFNUyxNQUFPLFNBQVV6QyxHQUNyRGtDLFFBQVFDLElBQUssUUFBU25DLEtBRzFCZCxPQUFPQyxHQUFHNEMsZ0JBQWlCM0MsT0FBTzRDLE1BQU1VLE1BQU8sU0FBVTFDLEdBQ3JEa0MsUUFBUUMsSUFBSyxRQUFTbkMsR0FDdEJkLE9BQU8yQixTQUFTMEIsS0FBTzdCLEtBWS9CNEIsZ0JBQWlCLFNBQVd4QyxFQUFLNkMsRUFBS0MsR0FDbEMsSUFBSUMsRUFBVS9DLEVBQUlnRCxNQUFNLEtBQUssR0FDekJDLEVBQWlCLElBQU1qRCxFQUFJZ0QsTUFBTSxLQUFLLEdBQ3RDRSxFQUFXTCxFQUFNLElBQU1DLEVBQ3ZCM0IsRUFBUyxJQUFNK0IsRUFHbkIsR0FBSUQsRUFBZ0IsQ0FDaEIsSUFBSUUsRUFBYyxJQUFJQyxPQUFPLFNBQVlQLEVBQU0sU0FDM0NRLEVBQWMsSUFBSUQsT0FBTyxTQUFZUCxFQUFNLGdCQUkzQzFCLEVBRkEsTUFBTzJCLEdBQXFELEtBQVZBLEdBQ2xEM0IsRUFBUzhCLEVBQWUvQixRQUFRbUMsRUFBYSxPQUM3Qm5DLFFBQVEsUUFBUyxJQUVZLE9BQXRDK0IsRUFBZUssTUFBTUgsR0FDbkJGLEVBQWUvQixRQUFRaUMsRUFBYSxLQUFPRCxHQUczQ0QsRUFBaUIsSUFBTUMsRUFPeEMsT0FBT0gsR0FGUDVCLEVBQW9CLE1BQVhBLEVBQWlCLEdBQUtBIiwiZmlsZSI6ImNoZWNrb3V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCB3Y19jaGVja291dF9wYXJhbXMgKi9cblxuLy8gUHJlbG9hZCBNb2RhbENoZWNrb3V0XG53aW5kb3cucnAgPSBuZXcgUmVlcGF5Lk1vZGFsQ2hlY2tvdXQoKTtcblxualF1ZXJ5KCBmdW5jdGlvbiggJCApIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyB3Y19jaGVja291dF9wYXJhbXMgaXMgcmVxdWlyZWQgdG8gY29udGludWUsIGVuc3VyZSB0aGUgb2JqZWN0IGV4aXN0c1xuICAgIGlmICggdHlwZW9mIHdjX2NoZWNrb3V0X3BhcmFtcyA9PT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkKCBkb2N1bWVudCApLmFqYXhDb21wbGV0ZSggZnVuY3Rpb24gKCBldmVudCwgeGhyLCBzZXR0aW5ncyApIHtcbiAgICAgICAgaWYgKCBzZXR0aW5ncy51cmwgPT09IHdjX2NoZWNrb3V0X3BhcmFtcy5jaGVja291dF91cmwgKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0geGhyLnJlc3BvbnNlVGV4dDtcblxuICAgICAgICAgICAgLy8gUGFyc2VcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gJC5wYXJzZUpTT04oIGRhdGEgKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlzIHJlc3BvbnNlIGZyb20gcGF5bWVudCBnYXRld2F5XG4gICAgICAgICAgICAgICAgaWYgKCAhIHJlc3VsdC5oYXNPd25Qcm9wZXJ0eSggJ2lzX3JlZXBheV9jaGVja291dCcgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdjX3JlZXBheS5idWlsZE1vZGFsQ2hlY2tvdXQoIHJlc3VsdC5yZWVwYXkuaWQsIHJlc3VsdC5hY2NlcHRfdXJsLCByZXN1bHQuY2FuY2VsX3VybCApO1xuICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSApO1xuXG4gICAgJCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICggd2luZG93LmxvY2F0aW9uLmhhc2guaW5kZXhPZiggJyMhcmVlcGF5LXBheScgKSA+IC0xICkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCAnIyFyZWVwYXktcGF5JywnJyApLFxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoIHVybCApO1xuXG4gICAgICAgICAgICBsZXQgcmlkID0gcGFyYW1zLmdldCggJ3JpZCcgKSxcbiAgICAgICAgICAgICAgICBhY2NlcHRfdXJsID0gcGFyYW1zLmdldCggJ2FjY2VwdF91cmwnICksXG4gICAgICAgICAgICAgICAgY2FuY2VsX3VybCA9IHBhcmFtcy5nZXQoICdjYW5jZWxfdXJsJyApO1xuXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHdjX3JlZXBheS5idWlsZE1vZGFsQ2hlY2tvdXQoIHJpZCwgYWNjZXB0X3VybCwgY2FuY2VsX3VybCApO1xuICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKCAnJywgZG9jdW1lbnQudGl0bGUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSApO1xuICAgICAgICAgICAgfSwgMTAwMCApO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxud2NfcmVlcGF5ID0ge1xuICAgIC8qKlxuICAgICAqIEJ1aWxkIE1vZGFsIENoZWNrb3V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVlcGF5X2lkXG4gICAgICogQHBhcmFtIGFjY2VwdF91cmxcbiAgICAgKiBAcGFyYW0gY2FuY2VsX3VybFxuICAgICAqL1xuICAgIGJ1aWxkTW9kYWxDaGVja291dDogZnVuY3Rpb24gKCByZWVwYXlfaWQsIGFjY2VwdF91cmwsIGNhbmNlbF91cmwgKSB7XG4gICAgICAgIGlmICggV0NfR2F0ZXdheV9SZWVwYXlfQ2hlY2tvdXQucGF5bWVudF90eXBlID09PSAnT1ZFUkxBWScgKSB7XG4gICAgICAgICAgICAvLyBTaG93IG1vZGFsXG4gICAgICAgICAgICB3aW5kb3cucnAuc2hvdyggcmVlcGF5X2lkICk7XG4gICAgICAgICAgICAvL3JwID0gbmV3IFJlZXBheS5Nb2RhbENoZWNrb3V0KCByZWVwYXlfaWQgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5ycCA9IG5ldyBSZWVwYXkuV2luZG93Q2hlY2tvdXQoIHJlZXBheV9pZCApO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LnJwLmFkZEV2ZW50SGFuZGxlciggUmVlcGF5LkV2ZW50LkFjY2VwdCwgZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggJ0FjY2VwdCcsIGRhdGEgKTtcblxuICAgICAgICAgICAgbGV0IHJlZGlyZWN0X3VybCA9IGFjY2VwdF91cmw7XG4gICAgICAgICAgICBmb3IgKCBsZXQgcHJvcCBpbiBkYXRhICkge1xuICAgICAgICAgICAgICAgIHJlZGlyZWN0X3VybCA9IHdjX3JlZXBheS5zZXRVcmxQYXJhbWV0ZXIoIHJlZGlyZWN0X3VybCwgcHJvcCwgZGF0YVtwcm9wXSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0X3VybDtcbiAgICAgICAgfSApO1xuXG4gICAgICAgIHdpbmRvdy5ycC5hZGRFdmVudEhhbmRsZXIoIFJlZXBheS5FdmVudC5DYW5jZWwsIGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coICdDYW5jZWwnLCBkYXRhICk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNhbmNlbF91cmw7XG4gICAgICAgIH0gKTtcblxuICAgICAgICB3aW5kb3cucnAuYWRkRXZlbnRIYW5kbGVyKCBSZWVwYXkuRXZlbnQuQ2xvc2UsIGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coICdDbG9zZScsIGRhdGEgKTtcbiAgICAgICAgfSApO1xuXG4gICAgICAgIHdpbmRvdy5ycC5hZGRFdmVudEhhbmRsZXIoIFJlZXBheS5FdmVudC5FcnJvciwgZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggJ0Vycm9yJywgZGF0YSApO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjYW5jZWxfdXJsO1xuICAgICAgICB9ICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBwYXJhbWV0ZXIgZm9yIFVybFxuICAgICAqXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc2V0VXJsUGFyYW1ldGVyOiBmdW5jdGlvbiAoIHVybCwga2V5LCB2YWx1ZSApIHtcbiAgICAgICAgdmFyIGJhc2VVcmwgPSB1cmwuc3BsaXQoJz8nKVswXSxcbiAgICAgICAgICAgIHVybFF1ZXJ5U3RyaW5nID0gJz8nICsgdXJsLnNwbGl0KCc/JylbMV0sXG4gICAgICAgICAgICBuZXdQYXJhbSA9IGtleSArICc9JyArIHZhbHVlLFxuICAgICAgICAgICAgcGFyYW1zID0gJz8nICsgbmV3UGFyYW07XG5cbiAgICAgICAgLy8gSWYgdGhlIFwic2VhcmNoXCIgc3RyaW5nIGV4aXN0cywgdGhlbiBidWlsZCBwYXJhbXMgZnJvbSBpdFxuICAgICAgICBpZiAodXJsUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoJyhbXFw/Jl0pJyArIGtleSArICdbXiZdKicpO1xuICAgICAgICAgICAgdmFyIHJlbW92ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnKFtcXD8mXSknICsga2V5ICsgJz1bXiY7XStbJjtdPycpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHsgLy8gUmVtb3ZlIHBhcmFtIGlmIHZhbHVlIGlzIGVtcHR5XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gdXJsUXVlcnlTdHJpbmcucmVwbGFjZShyZW1vdmVSZWdleCwgXCIkMVwiKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXMucmVwbGFjZSgvWyY7XSQvLCBcIlwiKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh1cmxRdWVyeVN0cmluZy5tYXRjaCh1cGRhdGVSZWdleCkgIT09IG51bGwpIHsgLy8gSWYgcGFyYW0gZXhpc3RzIGFscmVhZHksIHVwZGF0ZSBpdFxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHVybFF1ZXJ5U3RyaW5nLnJlcGxhY2UodXBkYXRlUmVnZXgsIFwiJDFcIiArIG5ld1BhcmFtKTtcblxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gT3RoZXJ3aXNlLCBhZGQgaXQgdG8gZW5kIG9mIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHVybFF1ZXJ5U3RyaW5nICsgJyYnICsgbmV3UGFyYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBwYXJhbWV0ZXIgd2FzIHNldCBzbyB3ZSBkb24ndCBuZWVkIHRoZSBxdWVzdGlvbiBtYXJrXG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyA9PT0gJz8nID8gJycgOiBwYXJhbXM7XG5cbiAgICAgICAgcmV0dXJuIGJhc2VVcmwgKyBwYXJhbXM7XG4gICAgfVxufTtcblxuIl19
